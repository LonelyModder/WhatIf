// export RuUnit , RuReinf , RuOfficerKilled , RuMechanicKilled ; starting begin InGameOn ;
   0: CALL_OW 8
// PrepareHero1c ;
   4: CALL 1352 0 0
// PrepareRuskies1c ;
   8: CALL 1900 0 0
// PrepareRuskieReinforcements ;
  12: CALL 2031 0 0
// PrepareRuskieTank ;
  16: CALL 2150 0 0
// CenterOnUnits ( VanHouten ) ;
  20: LD_EXP 5
  24: PPUSH
  25: CALL_OW 85
// Wait ( 0 0$2 ) ;
  29: LD_INT 70
  31: PPUSH
  32: CALL_OW 67
// Intro1c ;
  36: CALL 1638 0 0
// InGameOff ;
  40: CALL_OW 9
// ChangeMissionObjectives ( D1c ) ;
  44: LD_STRING D1c
  46: PPUSH
  47: CALL_OW 337
// SaveForQuickRestart ;
  51: CALL_OW 22
// Wait ( 0 0$10 ) ;
  55: LD_INT 350
  57: PPUSH
  58: CALL_OW 67
// PeterandRadio ;
  62: CALL 1774 0 0
// ChangeMissionObjectives ( D2c ) ;
  66: LD_STRING D2c
  68: PPUSH
  69: CALL_OW 337
// SetAreaMapShow ( extractionpoint , 1 ) ;
  73: LD_INT 1
  75: PPUSH
  76: LD_INT 1
  78: PPUSH
  79: CALL_OW 424
// ComMoveXY ( [ Dave ] , 70 , 17 ) ;
  83: LD_EXP 8
  87: PUSH
  88: EMPTY
  89: LIST
  90: PPUSH
  91: LD_INT 70
  93: PPUSH
  94: LD_INT 17
  96: PPUSH
  97: CALL_OW 111
// end ;
 101: END
// every 0 0$1 trigger see ( VanHouten , Tatarczuk ) and RuReinf > 1 do
 102: LD_EXP 5
 106: PPUSH
 107: LD_EXP 12
 111: PPUSH
 112: CALL_OW 292
 116: IFFALSE 128
 118: PUSH
 119: LD_EXP 2
 123: PUSH
 124: LD_INT 1
 126: GREATER
 127: AND
 128: IFFALSE 145
 130: GO 132
 132: DISABLE
// begin Say ( Tatarczuk , M1cRusTank-1 ) ;
 133: LD_EXP 12
 137: PPUSH
 138: LD_STRING M1cRusTank-1
 140: PPUSH
 141: CALL_OW 88
// end ;
 145: END
// every 0 0$1 trigger FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] ] ) = 4 do
 146: LD_INT 22
 148: PUSH
 149: LD_INT 1
 151: PUSH
 152: EMPTY
 153: LIST
 154: LIST
 155: PUSH
 156: LD_INT 21
 158: PUSH
 159: LD_INT 1
 161: PUSH
 162: EMPTY
 163: LIST
 164: LIST
 165: PUSH
 166: EMPTY
 167: LIST
 168: LIST
 169: PPUSH
 170: CALL_OW 69
 174: PUSH
 175: LD_INT 4
 177: EQUAL
 178: IFFALSE 190
 180: GO 182
 182: DISABLE
// begin ChangeMissionObjectives ( Out_CD2c ) ;
 183: LD_STRING Out_CD2c
 185: PPUSH
 186: CALL_OW 337
// end ;
 190: END
// every 0 0$1 trigger see ( VanHouten , Tatarczuk ) and GetLives ( Tatarczuk ) < 500 do
 191: LD_EXP 5
 195: PPUSH
 196: LD_EXP 12
 200: PPUSH
 201: CALL_OW 292
 205: IFFALSE 222
 207: PUSH
 208: LD_EXP 12
 212: PPUSH
 213: CALL_OW 256
 217: PUSH
 218: LD_INT 500
 220: LESS
 221: AND
 222: IFFALSE 324
 224: GO 226
 226: DISABLE
// begin Say ( Tatarczuk , M1cRusTank-2 ) ;
 227: LD_EXP 12
 231: PPUSH
 232: LD_STRING M1cRusTank-2
 234: PPUSH
 235: CALL_OW 88
// case Query ( RusMecQ ) of 1 :
 239: LD_STRING RusMecQ
 241: PPUSH
 242: CALL_OW 97
 246: PUSH
 247: LD_INT 1
 249: DOUBLE
 250: EQUAL
 251: IFTRUE 255
 253: GO 285
 255: POP
// begin Say ( VanHouten , M1cRusTank-3 ) ;
 256: LD_EXP 5
 260: PPUSH
 261: LD_STRING M1cRusTank-3
 263: PPUSH
 264: CALL_OW 88
// ComMoveToArea ( [ Tatarczuk ] , extractionpoint ) ;
 268: LD_EXP 12
 272: PUSH
 273: EMPTY
 274: LIST
 275: PPUSH
 276: LD_INT 1
 278: PPUSH
 279: CALL_OW 113
// end ; 2 :
 283: GO 324
 285: LD_INT 2
 287: DOUBLE
 288: EQUAL
 289: IFTRUE 293
 291: GO 323
 293: POP
// begin Say ( VanHouten , M1cRusTank-4 ) ;
 294: LD_EXP 5
 298: PPUSH
 299: LD_STRING M1cRusTank-4
 301: PPUSH
 302: CALL_OW 88
// ComMoveToArea ( [ Tatarczuk ] , extractionpoint ) ;
 306: LD_EXP 12
 310: PUSH
 311: EMPTY
 312: LIST
 313: PPUSH
 314: LD_INT 1
 316: PPUSH
 317: CALL_OW 113
// end ; end ;
 321: GO 324
 323: POP
// end ;
 324: END
// every 0 0$1 trigger GetDistUnits ( VanHouten , Kovalenko ) <= 10 and ( RuUnit < 3 or GetLives ( Kovalenko ) < 500 ) do
 325: LD_EXP 5
 329: PPUSH
 330: LD_EXP 9
 334: PPUSH
 335: CALL_OW 296
 339: PUSH
 340: LD_INT 10
 342: LESSEQUAL
 343: IFFALSE 372
 345: PUSH
 346: LD_EXP 1
 350: PUSH
 351: LD_INT 3
 353: LESS
 354: IFTRUE 371
 356: PUSH
 357: LD_EXP 9
 361: PPUSH
 362: CALL_OW 256
 366: PUSH
 367: LD_INT 500
 369: LESS
 370: OR
 371: AND
 372: IFFALSE 412
 374: GO 376
 376: DISABLE
// begin InGameOn ;
 377: CALL_OW 8
// Say ( Kovalenko , M1cRusUnit-4 ) ;
 381: LD_EXP 9
 385: PPUSH
 386: LD_STRING M1cRusUnit-4
 388: PPUSH
 389: CALL_OW 88
// ComMoveToArea ( [ Kovalenko ] , escapearea ) ;
 393: LD_EXP 9
 397: PUSH
 398: EMPTY
 399: LIST
 400: PPUSH
 401: LD_INT 2
 403: PPUSH
 404: CALL_OW 113
// InGameOff ;
 408: CALL_OW 9
// end ;
 412: END
// every 0 0$1 trigger IsInArea ( Kovalenko , escapearea ) do
 413: LD_EXP 9
 417: PPUSH
 418: LD_INT 2
 420: PPUSH
 421: CALL_OW 308
 425: IFFALSE 451
 427: GO 429
 429: DISABLE
// begin RemoveUnit ( Kovalenko ) ;
 430: LD_EXP 9
 434: PPUSH
 435: CALL_OW 64
// Say ( VanHouten , M1cRusUnit-2 ) ;
 439: LD_EXP 5
 443: PPUSH
 444: LD_STRING M1cRusUnit-2
 446: PPUSH
 447: CALL_OW 88
// end ;
 451: END
// every 0 0$1 trigger IsInArea ( Tatarczuk , extractionpoint ) do
 452: LD_EXP 12
 456: PPUSH
 457: LD_INT 1
 459: PPUSH
 460: CALL_OW 308
 464: IFFALSE 490
 466: GO 468
 468: DISABLE
// begin RemoveUnit ( Tatarczuk ) ;
 469: LD_EXP 12
 473: PPUSH
 474: CALL_OW 64
// Say ( VanHouten , M1cRusUnit-2 ) ;
 478: LD_EXP 5
 482: PPUSH
 483: LD_STRING M1cRusUnit-2
 485: PPUSH
 486: CALL_OW 88
// end ;
 490: END
// every 0 0$1 trigger see ( VanHouten , Harris ) and IsOk ( Harris ) do
 491: LD_EXP 5
 495: PPUSH
 496: LD_EXP 6
 500: PPUSH
 501: CALL_OW 292
 505: IFFALSE 518
 507: PUSH
 508: LD_EXP 6
 512: PPUSH
 513: CALL_OW 302
 517: AND
 518: IFFALSE 662
 520: GO 522
 522: DISABLE
// begin InGameOn ;
 523: CALL_OW 8
// CenterOnUnits ( Harris ) ;
 527: LD_EXP 6
 531: PPUSH
 532: CALL_OW 85
// Say ( VanHouten , M1Harris-1 ) ;
 536: LD_EXP 5
 540: PPUSH
 541: LD_STRING M1Harris-1
 543: PPUSH
 544: CALL_OW 88
// Say ( Harris , M1Harris-2 ) ;
 548: LD_EXP 6
 552: PPUSH
 553: LD_STRING M1Harris-2
 555: PPUSH
 556: CALL_OW 88
// SetSide ( Harris , VanHouten ) ;
 560: LD_EXP 6
 564: PPUSH
 565: LD_EXP 5
 569: PPUSH
 570: CALL_OW 235
// Say ( VanHouten , M1Harris-3 ) ;
 574: LD_EXP 5
 578: PPUSH
 579: LD_STRING M1Harris-3
 581: PPUSH
 582: CALL_OW 88
// Say ( Harris , M1Harris-4 ) ;
 586: LD_EXP 6
 590: PPUSH
 591: LD_STRING M1Harris-4
 593: PPUSH
 594: CALL_OW 88
// Say ( VanHouten , M1Harris-5 ) ;
 598: LD_EXP 5
 602: PPUSH
 603: LD_STRING M1Harris-5
 605: PPUSH
 606: CALL_OW 88
// Say ( Harris , M1Harris-6 ) ;
 610: LD_EXP 6
 614: PPUSH
 615: LD_STRING M1Harris-6
 617: PPUSH
 618: CALL_OW 88
// Say ( VanHouten , M1Harris-7 ) ;
 622: LD_EXP 5
 626: PPUSH
 627: LD_STRING M1Harris-7
 629: PPUSH
 630: CALL_OW 88
// Say ( Harris , M1Harris-8 ) ;
 634: LD_EXP 6
 638: PPUSH
 639: LD_STRING M1Harris-8
 641: PPUSH
 642: CALL_OW 88
// Say ( VanHouten , M1Harris-9 ) ;
 646: LD_EXP 5
 650: PPUSH
 651: LD_STRING M1Harris-9
 653: PPUSH
 654: CALL_OW 88
// InGameOff ;
 658: CALL_OW 9
// end ;
 662: END
// every 0 0$1 trigger see ( VanHouten , Dave ) and IsOk ( Dave ) do
 663: LD_EXP 5
 667: PPUSH
 668: LD_EXP 8
 672: PPUSH
 673: CALL_OW 292
 677: IFFALSE 690
 679: PUSH
 680: LD_EXP 8
 684: PPUSH
 685: CALL_OW 302
 689: AND
 690: IFFALSE 1060
 692: GO 694
 694: DISABLE
// begin InGameOn ;
 695: CALL_OW 8
// if IsOk ( Yamoko ) and ( GetDistUnits ( Yamoko , Dave ) > 17 ) then
 699: LD_EXP 11
 703: PPUSH
 704: CALL_OW 302
 708: IFFALSE 730
 710: PUSH
 711: LD_EXP 11
 715: PPUSH
 716: LD_EXP 8
 720: PPUSH
 721: CALL_OW 296
 725: PUSH
 726: LD_INT 17
 728: GREATER
 729: AND
 730: IFFALSE 839
// begin CenterOnUnits ( Dave ) ;
 732: LD_EXP 8
 736: PPUSH
 737: CALL_OW 85
// Say ( VanHouten , M1Dave-1 ) ;
 741: LD_EXP 5
 745: PPUSH
 746: LD_STRING M1Dave-1
 748: PPUSH
 749: CALL_OW 88
// Say ( Dave , M1Dave-2 ) ;
 753: LD_EXP 8
 757: PPUSH
 758: LD_STRING M1Dave-2
 760: PPUSH
 761: CALL_OW 88
// Say ( VanHouten , M1Dave-3 ) ;
 765: LD_EXP 5
 769: PPUSH
 770: LD_STRING M1Dave-3
 772: PPUSH
 773: CALL_OW 88
// Say ( Dave , M1Dave-4 ) ;
 777: LD_EXP 8
 781: PPUSH
 782: LD_STRING M1Dave-4
 784: PPUSH
 785: CALL_OW 88
// Say ( VanHouten , M1Dave-5 ) ;
 789: LD_EXP 5
 793: PPUSH
 794: LD_STRING M1Dave-5
 796: PPUSH
 797: CALL_OW 88
// Say ( Dave , M1Dave-6 ) ;
 801: LD_EXP 8
 805: PPUSH
 806: LD_STRING M1Dave-6
 808: PPUSH
 809: CALL_OW 88
// Say ( VanHouten , M1Dave-7 ) ;
 813: LD_EXP 5
 817: PPUSH
 818: LD_STRING M1Dave-7
 820: PPUSH
 821: CALL_OW 88
// SetSide ( Dave , VanHouten ) ;
 825: LD_EXP 8
 829: PPUSH
 830: LD_EXP 5
 834: PPUSH
 835: CALL_OW 235
// end ; if IsDead ( Yamoko ) then
 839: LD_EXP 11
 843: PPUSH
 844: CALL_OW 301
 848: IFFALSE 943
// begin CenterOnUnits ( Dave ) ;
 850: LD_EXP 8
 854: PPUSH
 855: CALL_OW 85
// Say ( VanHouten , M1Dave-1 ) ;
 859: LD_EXP 5
 863: PPUSH
 864: LD_STRING M1Dave-1
 866: PPUSH
 867: CALL_OW 88
// Say ( Dave , M1Dave-2 ) ;
 871: LD_EXP 8
 875: PPUSH
 876: LD_STRING M1Dave-2
 878: PPUSH
 879: CALL_OW 88
// Say ( VanHouten , M1Dave-3 ) ;
 883: LD_EXP 5
 887: PPUSH
 888: LD_STRING M1Dave-3
 890: PPUSH
 891: CALL_OW 88
// Say ( Dave , M1Dave-4 ) ;
 895: LD_EXP 8
 899: PPUSH
 900: LD_STRING M1Dave-4
 902: PPUSH
 903: CALL_OW 88
// Say ( VanHouten , M1Dave-8 ) ;
 907: LD_EXP 5
 911: PPUSH
 912: LD_STRING M1Dave-8
 914: PPUSH
 915: CALL_OW 88
// Say ( Dave , M1Dave-9 ) ;
 919: LD_EXP 8
 923: PPUSH
 924: LD_STRING M1Dave-9
 926: PPUSH
 927: CALL_OW 88
// Say ( VanHouten , M1Dave-10 ) ;
 931: LD_EXP 5
 935: PPUSH
 936: LD_STRING M1Dave-10
 938: PPUSH
 939: CALL_OW 88
// end ; if GetDistUnits ( Yamoko , Dave ) < 17 then
 943: LD_EXP 11
 947: PPUSH
 948: LD_EXP 8
 952: PPUSH
 953: CALL_OW 296
 957: PUSH
 958: LD_INT 17
 960: LESS
 961: IFFALSE 1056
// begin CenterOnUnits ( Dave ) ;
 963: LD_EXP 8
 967: PPUSH
 968: CALL_OW 85
// Say ( VanHouten , M1Dave-1 ) ;
 972: LD_EXP 5
 976: PPUSH
 977: LD_STRING M1Dave-1
 979: PPUSH
 980: CALL_OW 88
// Say ( Dave , M1Dave-2 ) ;
 984: LD_EXP 8
 988: PPUSH
 989: LD_STRING M1Dave-2
 991: PPUSH
 992: CALL_OW 88
// Say ( VanHouten , M1Dave-3 ) ;
 996: LD_EXP 5
1000: PPUSH
1001: LD_STRING M1Dave-3
1003: PPUSH
1004: CALL_OW 88
// Say ( Yamoko , M1Dave-3 ) ;
1008: LD_EXP 11
1012: PPUSH
1013: LD_STRING M1Dave-3
1015: PPUSH
1016: CALL_OW 88
// Say ( Dave , M1Dave-3 ) ;
1020: LD_EXP 8
1024: PPUSH
1025: LD_STRING M1Dave-3
1027: PPUSH
1028: CALL_OW 88
// Say ( Yamoko , M1Dave-3 ) ;
1032: LD_EXP 11
1036: PPUSH
1037: LD_STRING M1Dave-3
1039: PPUSH
1040: CALL_OW 88
// Say ( VanHouten , M1Dave-3 ) ;
1044: LD_EXP 5
1048: PPUSH
1049: LD_STRING M1Dave-3
1051: PPUSH
1052: CALL_OW 88
// end ; InGameOff ;
1056: CALL_OW 9
// end ;
1060: END
// every 0 0$1 trigger see ( VanHouten , Yamoko ) and IsOk ( Yamoko ) do
1061: LD_EXP 5
1065: PPUSH
1066: LD_EXP 11
1070: PPUSH
1071: CALL_OW 292
1075: IFFALSE 1088
1077: PUSH
1078: LD_EXP 11
1082: PPUSH
1083: CALL_OW 302
1087: AND
1088: IFFALSE 1309
1090: GO 1092
1092: DISABLE
// begin InGameOn ;
1093: CALL_OW 8
// if IsOk ( Dave ) and ( GetDistUnits ( Yamoko , Dave ) < 17 ) then
1097: LD_EXP 8
1101: PPUSH
1102: CALL_OW 302
1106: IFFALSE 1128
1108: PUSH
1109: LD_EXP 11
1113: PPUSH
1114: LD_EXP 8
1118: PPUSH
1119: CALL_OW 296
1123: PUSH
1124: LD_INT 17
1126: LESS
1127: AND
1128: IFFALSE 1213
// begin CenterOnUnits ( Yamoko ) ;
1130: LD_EXP 11
1134: PPUSH
1135: CALL_OW 85
// Say ( VanHouten , M1cYamoko-1 ) ;
1139: LD_EXP 5
1143: PPUSH
1144: LD_STRING M1cYamoko-1
1146: PPUSH
1147: CALL_OW 88
// Say ( Yamoko , M1cYamoko-2 ) ;
1151: LD_EXP 11
1155: PPUSH
1156: LD_STRING M1cYamoko-2
1158: PPUSH
1159: CALL_OW 88
// Say ( VanHouten , M1cYamoko-3 ) ;
1163: LD_EXP 5
1167: PPUSH
1168: LD_STRING M1cYamoko-3
1170: PPUSH
1171: CALL_OW 88
// Say ( Yamoko , M1cYamoko-4 ) ;
1175: LD_EXP 11
1179: PPUSH
1180: LD_STRING M1cYamoko-4
1182: PPUSH
1183: CALL_OW 88
// Say ( VanHouten , M1cYamoko-5 ) ;
1187: LD_EXP 5
1191: PPUSH
1192: LD_STRING M1cYamoko-5
1194: PPUSH
1195: CALL_OW 88
// SetSide ( Yamoko , VanHouten ) ;
1199: LD_EXP 11
1203: PPUSH
1204: LD_EXP 5
1208: PPUSH
1209: CALL_OW 235
// end ; if IsDead ( Dave ) or ( GetDistUnits ( Yamoko , Dave ) > 17 ) then
1213: LD_EXP 8
1217: PPUSH
1218: CALL_OW 301
1222: IFTRUE 1244
1224: PUSH
1225: LD_EXP 11
1229: PPUSH
1230: LD_EXP 8
1234: PPUSH
1235: CALL_OW 296
1239: PUSH
1240: LD_INT 17
1242: GREATER
1243: OR
1244: IFFALSE 1305
// begin CenterOnUnits ( Yamoko ) ;
1246: LD_EXP 11
1250: PPUSH
1251: CALL_OW 85
// Say ( VanHouten , M1cYamokND-1 ) ;
1255: LD_EXP 5
1259: PPUSH
1260: LD_STRING M1cYamokND-1
1262: PPUSH
1263: CALL_OW 88
// Say ( Yamoko , M1cYamokND-2 ) ;
1267: LD_EXP 11
1271: PPUSH
1272: LD_STRING M1cYamokND-2
1274: PPUSH
1275: CALL_OW 88
// Say ( VanHouten , M1cYamokND-3 ) ;
1279: LD_EXP 5
1283: PPUSH
1284: LD_STRING M1cYamokND-3
1286: PPUSH
1287: CALL_OW 88
// SetSide ( Yamoko , VanHouten ) ;
1291: LD_EXP 11
1295: PPUSH
1296: LD_EXP 5
1300: PPUSH
1301: CALL_OW 235
// end ; InGameOff ;
1305: CALL_OW 9
// end ;
1309: END
// every 0 0$1 trigger not FilterUnitsExceptArea ( extractionpoint , [ [ f_side , 1 ] , [ f_type , unit_human ] ] ) do
1310: LD_INT 1
1312: PPUSH
1313: LD_INT 22
1315: PUSH
1316: LD_INT 1
1318: PUSH
1319: EMPTY
1320: LIST
1321: LIST
1322: PUSH
1323: LD_INT 21
1325: PUSH
1326: LD_INT 1
1328: PUSH
1329: EMPTY
1330: LIST
1331: LIST
1332: PUSH
1333: EMPTY
1334: LIST
1335: LIST
1336: PPUSH
1337: CALL_OW 71
1341: NOT
1342: IFFALSE 1351
1344: GO 1346
1346: DISABLE
// begin EndMission ;
1347: CALL 2247 0 0
// end ; end_of_file
1351: END
// export VanHouten , Harris , Powell , Dave , Kovalenko , Gaydar , Yamoko , Tatarczuk ; export function PrepareHero1c ; begin
1352: LD_INT 0
1354: PPUSH
// InGameOn ;
1355: CALL_OW 8
// CenterNowOnXY ( 83 , 13 ) ;
1359: LD_INT 83
1361: PPUSH
1362: LD_INT 13
1364: PPUSH
1365: CALL_OW 86
// uc_side := 1 ;
1369: LD_ADDR_OWVAR 20
1373: PUSH
1374: LD_INT 1
1376: ST_TO_ADDR
// VanHouten := NewCharacter ( VanHouten ) ;
1377: LD_ADDR_EXP 5
1381: PUSH
1382: LD_STRING VanHouten
1384: PPUSH
1385: CALL_OW 25
1389: ST_TO_ADDR
// uc_side := 4 ;
1390: LD_ADDR_OWVAR 20
1394: PUSH
1395: LD_INT 4
1397: ST_TO_ADDR
// Harris := NewCharacter ( Harris ) ;
1398: LD_ADDR_EXP 6
1402: PUSH
1403: LD_STRING Harris
1405: PPUSH
1406: CALL_OW 25
1410: ST_TO_ADDR
// Powell := NewCharacter ( Powell ) ;
1411: LD_ADDR_EXP 7
1415: PUSH
1416: LD_STRING Powell
1418: PPUSH
1419: CALL_OW 25
1423: ST_TO_ADDR
// Dave := NewCharacter ( Dave ) ;
1424: LD_ADDR_EXP 8
1428: PUSH
1429: LD_STRING Dave
1431: PPUSH
1432: CALL_OW 25
1436: ST_TO_ADDR
// Yamoko := NewCharacter ( Yamoko ) ;
1437: LD_ADDR_EXP 11
1441: PUSH
1442: LD_STRING Yamoko
1444: PPUSH
1445: CALL_OW 25
1449: ST_TO_ADDR
// uc_side := 3 ;
1450: LD_ADDR_OWVAR 20
1454: PUSH
1455: LD_INT 3
1457: ST_TO_ADDR
// Kovalenko := NewCharacter ( Kovalenko ) ;
1458: LD_ADDR_EXP 9
1462: PUSH
1463: LD_STRING Kovalenko
1465: PPUSH
1466: CALL_OW 25
1470: ST_TO_ADDR
// Gaydar := NewCharacter ( Gaydar ) ;
1471: LD_ADDR_EXP 10
1475: PUSH
1476: LD_STRING Gaydar
1478: PPUSH
1479: CALL_OW 25
1483: ST_TO_ADDR
// uc_side := 6 ;
1484: LD_ADDR_OWVAR 20
1488: PUSH
1489: LD_INT 6
1491: ST_TO_ADDR
// Tatarczuk := NewCharacter ( Tatarczuk ) ;
1492: LD_ADDR_EXP 12
1496: PUSH
1497: LD_STRING Tatarczuk
1499: PPUSH
1500: CALL_OW 25
1504: ST_TO_ADDR
// DWait ( 0 0$2 ) ;
1505: LD_INT 70
1507: PPUSH
1508: CALL_OW 68
// PlaceUnitXY ( VanHouten , 83 , 13 , true ) ;
1512: LD_EXP 5
1516: PPUSH
1517: LD_INT 83
1519: PPUSH
1520: LD_INT 13
1522: PPUSH
1523: LD_INT 1
1525: PPUSH
1526: CALL_OW 48
// CenterOnUnits ( VanHouten ) ;
1530: LD_EXP 5
1534: PPUSH
1535: CALL_OW 85
// PlaceUnitXY ( Harris , 116 , 83 , false ) ;
1539: LD_EXP 6
1543: PPUSH
1544: LD_INT 116
1546: PPUSH
1547: LD_INT 83
1549: PPUSH
1550: LD_INT 0
1552: PPUSH
1553: CALL_OW 48
// PlaceUnitXY ( Dave , 82 , 57 , false ) ;
1557: LD_EXP 8
1561: PPUSH
1562: LD_INT 82
1564: PPUSH
1565: LD_INT 57
1567: PPUSH
1568: LD_INT 0
1570: PPUSH
1571: CALL_OW 48
// PlaceUnitXY ( Yamoko , 51 , 81 , false ) ;
1575: LD_EXP 11
1579: PPUSH
1580: LD_INT 51
1582: PPUSH
1583: LD_INT 81
1585: PPUSH
1586: LD_INT 0
1588: PPUSH
1589: CALL_OW 48
// PlaceUnitXY ( Kovalenko , 30 , 18 , false ) ;
1593: LD_EXP 9
1597: PPUSH
1598: LD_INT 30
1600: PPUSH
1601: LD_INT 18
1603: PPUSH
1604: LD_INT 0
1606: PPUSH
1607: CALL_OW 48
// PlaceUnitXY ( Tatarczuk , 88 , 93 , false ) ;
1611: LD_EXP 12
1615: PPUSH
1616: LD_INT 88
1618: PPUSH
1619: LD_INT 93
1621: PPUSH
1622: LD_INT 0
1624: PPUSH
1625: CALL_OW 48
// InGameOff ;
1629: CALL_OW 9
// end ;
1633: LD_VAR 0 1
1637: RET
// export function Intro1c ; begin
1638: LD_INT 0
1640: PPUSH
// InGameOn ;
1641: CALL_OW 8
// Say ( VanHouten , M1Arrival-1 ) ;
1645: LD_EXP 5
1649: PPUSH
1650: LD_STRING M1Arrival-1
1652: PPUSH
1653: CALL_OW 88
// ComMoveXY ( [ VanHouten ] , 76 , 6 ) ;
1657: LD_EXP 5
1661: PUSH
1662: EMPTY
1663: LIST
1664: PPUSH
1665: LD_INT 76
1667: PPUSH
1668: LD_INT 6
1670: PPUSH
1671: CALL_OW 111
// Say ( VanHouten , M1Arrival-2 ) ;
1675: LD_EXP 5
1679: PPUSH
1680: LD_STRING M1Arrival-2
1682: PPUSH
1683: CALL_OW 88
// AddComMoveXY ( [ VanHouten ] , 86 , 19 ) ;
1687: LD_EXP 5
1691: PUSH
1692: EMPTY
1693: LIST
1694: PPUSH
1695: LD_INT 86
1697: PPUSH
1698: LD_INT 19
1700: PPUSH
1701: CALL_OW 171
// SayRadio ( VanHouten , M1Arrival-3 ) ;
1705: LD_EXP 5
1709: PPUSH
1710: LD_STRING M1Arrival-3
1712: PPUSH
1713: CALL_OW 94
// SayRadio ( VanHouten , M1Arrival-4 ) ;
1717: LD_EXP 5
1721: PPUSH
1722: LD_STRING M1Arrival-4
1724: PPUSH
1725: CALL_OW 94
// SayRadioNoName ( Powell , M1Arrival-5 ) ;
1729: LD_EXP 7
1733: PPUSH
1734: LD_STRING M1Arrival-5
1736: PPUSH
1737: CALL_OW 95
// SayRadioNoName ( Powell , M1Arrival-6 ) ;
1741: LD_EXP 7
1745: PPUSH
1746: LD_STRING M1Arrival-6
1748: PPUSH
1749: CALL_OW 95
// Say ( VanHouten , M1Arrival-7 ) ;
1753: LD_EXP 5
1757: PPUSH
1758: LD_STRING M1Arrival-7
1760: PPUSH
1761: CALL_OW 88
// InGameOff ;
1765: CALL_OW 9
// end ;
1769: LD_VAR 0 1
1773: RET
// export function PeterandRadio ; begin
1774: LD_INT 0
1776: PPUSH
// InGameOn ;
1777: CALL_OW 8
// Say ( VanHouten , M1RuConvo-1 ) ;
1781: LD_EXP 5
1785: PPUSH
1786: LD_STRING M1RuConvo-1
1788: PPUSH
1789: CALL_OW 88
// SayRadio ( Kovalenko , M1RuConvo-2 ) ;
1793: LD_EXP 9
1797: PPUSH
1798: LD_STRING M1RuConvo-2
1800: PPUSH
1801: CALL_OW 94
// SayRadio ( Kovalenko , M1RuConvo-3 ) ;
1805: LD_EXP 9
1809: PPUSH
1810: LD_STRING M1RuConvo-3
1812: PPUSH
1813: CALL_OW 94
// SayRadio ( Gaydar , M1RuConvo-4 ) ;
1817: LD_EXP 10
1821: PPUSH
1822: LD_STRING M1RuConvo-4
1824: PPUSH
1825: CALL_OW 94
// Say ( VanHouten , M1RuConvo-5 ) ;
1829: LD_EXP 5
1833: PPUSH
1834: LD_STRING M1RuConvo-5
1836: PPUSH
1837: CALL_OW 88
// Say ( VanHouten , M1RuConvo-6 ) ;
1841: LD_EXP 5
1845: PPUSH
1846: LD_STRING M1RuConvo-6
1848: PPUSH
1849: CALL_OW 88
// SayRadioNoName ( Powell , M1RuConvo-7 ) ;
1853: LD_EXP 7
1857: PPUSH
1858: LD_STRING M1RuConvo-7
1860: PPUSH
1861: CALL_OW 95
// Say ( VanHouten , M1RuConvo-8 ) ;
1865: LD_EXP 5
1869: PPUSH
1870: LD_STRING M1RuConvo-8
1872: PPUSH
1873: CALL_OW 88
// InGameOff ;
1877: CALL_OW 9
// ChangeMissionObjectives ( CD1c ) ;
1881: LD_STRING CD1c
1883: PPUSH
1884: CALL_OW 337
// ChangeMissionObjectives ( CD2c ) ;
1888: LD_STRING CD2c
1890: PPUSH
1891: CALL_OW 337
// end ;
1895: LD_VAR 0 1
1899: RET
// export function PrepareRuskies1c ; var i , sol ; begin
1900: LD_INT 0
1902: PPUSH
1903: PPUSH
1904: PPUSH
// for i = 1 to 5 do
1905: LD_ADDR_VAR 0 2
1909: PUSH
1910: DOUBLE
1911: LD_INT 1
1913: DEC
1914: ST_TO_ADDR
1915: LD_INT 5
1917: PUSH
1918: FOR_TO
1919: IFFALSE 2024
// begin uc_side := 3 ;
1921: LD_ADDR_OWVAR 20
1925: PUSH
1926: LD_INT 3
1928: ST_TO_ADDR
// uc_nation := 3 ;
1929: LD_ADDR_OWVAR 21
1933: PUSH
1934: LD_INT 3
1936: ST_TO_ADDR
// PrepareHuman ( 1 , [ 1 , 1 , 1 , 1 , 4 ] [ i ] , 2 ) ;
1937: LD_INT 1
1939: PPUSH
1940: LD_INT 1
1942: PUSH
1943: LD_INT 1
1945: PUSH
1946: LD_INT 1
1948: PUSH
1949: LD_INT 1
1951: PUSH
1952: LD_INT 4
1954: PUSH
1955: EMPTY
1956: LIST
1957: LIST
1958: LIST
1959: LIST
1960: LIST
1961: PUSH
1962: LD_VAR 0 2
1966: ARRAY
1967: PPUSH
1968: LD_INT 2
1970: PPUSH
1971: CALL_OW 380
// sol := CreateHuman ;
1975: LD_ADDR_VAR 0 3
1979: PUSH
1980: CALL_OW 44
1984: ST_TO_ADDR
// RuUnit := RuUnit ^ sol ;
1985: LD_ADDR_EXP 1
1989: PUSH
1990: LD_EXP 1
1994: PUSH
1995: LD_VAR 0 3
1999: ADD
2000: ST_TO_ADDR
// PlaceUnitXYR ( sol , 30 , 17 , 4 , false ) ;
2001: LD_VAR 0 3
2005: PPUSH
2006: LD_INT 30
2008: PPUSH
2009: LD_INT 17
2011: PPUSH
2012: LD_INT 4
2014: PPUSH
2015: LD_INT 0
2017: PPUSH
2018: CALL_OW 50
// end ;
2022: GO 1918
2024: POP
2025: POP
// end ;
2026: LD_VAR 0 1
2030: RET
// export function PrepareRuskieReinforcements ; var i , sol ; begin
2031: LD_INT 0
2033: PPUSH
2034: PPUSH
2035: PPUSH
// for i = 1 to 2 do
2036: LD_ADDR_VAR 0 2
2040: PUSH
2041: DOUBLE
2042: LD_INT 1
2044: DEC
2045: ST_TO_ADDR
2046: LD_INT 2
2048: PUSH
2049: FOR_TO
2050: IFFALSE 2143
// begin uc_side := 6 ;
2052: LD_ADDR_OWVAR 20
2056: PUSH
2057: LD_INT 6
2059: ST_TO_ADDR
// uc_nation := 3 ;
2060: LD_ADDR_OWVAR 21
2064: PUSH
2065: LD_INT 3
2067: ST_TO_ADDR
// PrepareHuman ( 1 , [ 1 , 1 ] [ i ] , 2 ) ;
2068: LD_INT 1
2070: PPUSH
2071: LD_INT 1
2073: PUSH
2074: LD_INT 1
2076: PUSH
2077: EMPTY
2078: LIST
2079: LIST
2080: PUSH
2081: LD_VAR 0 2
2085: ARRAY
2086: PPUSH
2087: LD_INT 2
2089: PPUSH
2090: CALL_OW 380
// sol := CreateHuman ;
2094: LD_ADDR_VAR 0 3
2098: PUSH
2099: CALL_OW 44
2103: ST_TO_ADDR
// RuReinf := RuReinf ^ sol ;
2104: LD_ADDR_EXP 2
2108: PUSH
2109: LD_EXP 2
2113: PUSH
2114: LD_VAR 0 3
2118: ADD
2119: ST_TO_ADDR
// PlaceUnitXYR ( sol , 79 , 76 , 4 , false ) ;
2120: LD_VAR 0 3
2124: PPUSH
2125: LD_INT 79
2127: PPUSH
2128: LD_INT 76
2130: PPUSH
2131: LD_INT 4
2133: PPUSH
2134: LD_INT 0
2136: PPUSH
2137: CALL_OW 50
// end ;
2141: GO 2049
2143: POP
2144: POP
// end ;
2145: LD_VAR 0 1
2149: RET
// export function PrepareRuskieTank ; var tank ; begin
2150: LD_INT 0
2152: PPUSH
2153: PPUSH
// uc_side := 6 ;
2154: LD_ADDR_OWVAR 20
2158: PUSH
2159: LD_INT 6
2161: ST_TO_ADDR
// uc_nation := 3 ;
2162: LD_ADDR_OWVAR 21
2166: PUSH
2167: LD_INT 3
2169: ST_TO_ADDR
// vc_chassis := ru_medium_wheeled ;
2170: LD_ADDR_OWVAR 37
2174: PUSH
2175: LD_INT 21
2177: ST_TO_ADDR
// vc_control := control_manual ;
2178: LD_ADDR_OWVAR 38
2182: PUSH
2183: LD_INT 1
2185: ST_TO_ADDR
// vc_weapon := ru_heavy_machine_gun ;
2186: LD_ADDR_OWVAR 40
2190: PUSH
2191: LD_INT 42
2193: ST_TO_ADDR
// vc_engine := engine_combustion ;
2194: LD_ADDR_OWVAR 39
2198: PUSH
2199: LD_INT 1
2201: ST_TO_ADDR
// tank := CreateVehicle ;
2202: LD_ADDR_VAR 0 2
2206: PUSH
2207: CALL_OW 45
2211: ST_TO_ADDR
// SetDir ( tank , 0 ) ;
2212: LD_VAR 0 2
2216: PPUSH
2217: LD_INT 0
2219: PPUSH
2220: CALL_OW 233
// PlaceUnitXY ( tank , 74 , 70 , false ) ;
2224: LD_VAR 0 2
2228: PPUSH
2229: LD_INT 74
2231: PPUSH
2232: LD_INT 70
2234: PPUSH
2235: LD_INT 0
2237: PPUSH
2238: CALL_OW 48
// end ;
2242: LD_VAR 0 1
2246: RET
// export function EndMission ; begin
2247: LD_INT 0
2249: PPUSH
// AddMedal ( med1 , 1 ) ;
2250: LD_STRING med1
2252: PPUSH
2253: LD_INT 1
2255: PPUSH
2256: CALL_OW 101
// if FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] ] ) < 4 then
2260: LD_INT 22
2262: PUSH
2263: LD_INT 1
2265: PUSH
2266: EMPTY
2267: LIST
2268: LIST
2269: PUSH
2270: LD_INT 21
2272: PUSH
2273: LD_INT 1
2275: PUSH
2276: EMPTY
2277: LIST
2278: LIST
2279: PUSH
2280: EMPTY
2281: LIST
2282: LIST
2283: PPUSH
2284: CALL_OW 69
2288: PUSH
2289: LD_INT 4
2291: LESS
2292: IFFALSE 2307
// AddMedal ( med2 , - 1 ) else
2294: LD_STRING med2
2296: PPUSH
2297: LD_INT 1
2299: NEG
2300: PPUSH
2301: CALL_OW 101
2305: GO 2317
// AddMedal ( med2 , 1 ) ;
2307: LD_STRING med2
2309: PPUSH
2310: LD_INT 1
2312: PPUSH
2313: CALL_OW 101
// if RuOfficerKilled = true then
2317: LD_EXP 3
2321: PUSH
2322: LD_INT 1
2324: EQUAL
2325: IFFALSE 2339
// AddMedal ( med3 , 1 ) else
2327: LD_STRING med3
2329: PPUSH
2330: LD_INT 1
2332: PPUSH
2333: CALL_OW 101
2337: GO 2350
// AddMedal ( med3 , - 1 ) ;
2339: LD_STRING med3
2341: PPUSH
2342: LD_INT 1
2344: NEG
2345: PPUSH
2346: CALL_OW 101
// GiveMedals ( MAIN ) ;
2350: LD_STRING MAIN
2352: PPUSH
2353: CALL_OW 102
// RewardPeople ( FilterAllUnits ( [ [ f_alive ] , [ f_side , 1 ] , [ f_type , unit_human ] ] ) ) ;
2357: LD_INT 51
2359: PUSH
2360: EMPTY
2361: LIST
2362: PUSH
2363: LD_INT 22
2365: PUSH
2366: LD_INT 1
2368: PUSH
2369: EMPTY
2370: LIST
2371: LIST
2372: PUSH
2373: LD_INT 21
2375: PUSH
2376: LD_INT 1
2378: PUSH
2379: EMPTY
2380: LIST
2381: LIST
2382: PUSH
2383: EMPTY
2384: LIST
2385: LIST
2386: LIST
2387: PPUSH
2388: CALL_OW 69
2392: PPUSH
2393: CALL_OW 43
// SaveCharacters ( VanHouten , VanHouten ) ;
2397: LD_EXP 5
2401: PPUSH
2402: LD_STRING VanHouten
2404: PPUSH
2405: CALL_OW 38
// SaveCharacters ( Harris , Harris ) ;
2409: LD_EXP 6
2413: PPUSH
2414: LD_STRING Harris
2416: PPUSH
2417: CALL_OW 38
// SaveCharacters ( Dave , Dave ) ;
2421: LD_EXP 8
2425: PPUSH
2426: LD_STRING Dave
2428: PPUSH
2429: CALL_OW 38
// SaveCharacters ( Yamoko , Yamoko ) ;
2433: LD_EXP 11
2437: PPUSH
2438: LD_STRING Yamoko
2440: PPUSH
2441: CALL_OW 38
// YouWin ;
2445: CALL_OW 103
// end ; end_of_file
2449: LD_VAR 0 1
2453: RET
// on UnitDestroyed ( un ) do begin if un = VanHouten then
2454: LD_VAR 0 1
2458: PUSH
2459: LD_EXP 5
2463: EQUAL
2464: IFFALSE 2473
// YouLost ( VanHouten ) ;
2466: LD_STRING VanHouten
2468: PPUSH
2469: CALL_OW 104
// if un = Kovalenko then
2473: LD_VAR 0 1
2477: PUSH
2478: LD_EXP 9
2482: EQUAL
2483: IFFALSE 2512
// begin RuOfficerKilled = true ;
2485: LD_ADDR_EXP 3
2489: PUSH
2490: LD_INT 1
2492: ST_TO_ADDR
// Say ( VanHouten , M1cRusUnit-3 ) ;
2493: LD_EXP 5
2497: PPUSH
2498: LD_STRING M1cRusUnit-3
2500: PPUSH
2501: CALL_OW 88
// ChangeMissionObjectives ( Out_CD1c ) ;
2505: LD_STRING Out_CD1c
2507: PPUSH
2508: CALL_OW 337
// end ; if un = Tatarczuk then
2512: LD_VAR 0 1
2516: PUSH
2517: LD_EXP 12
2521: EQUAL
2522: IFFALSE 2532
// begin RuMechanicKilled = true ;
2524: LD_ADDR_EXP 4
2528: PUSH
2529: LD_INT 1
2531: ST_TO_ADDR
// end ; if un in RuUnit then
2532: LD_VAR 0 1
2536: PUSH
2537: LD_EXP 1
2541: IN
2542: IFFALSE 2560
// RuUnit := RuUnit diff un ;
2544: LD_ADDR_EXP 1
2548: PUSH
2549: LD_EXP 1
2553: PUSH
2554: LD_VAR 0 1
2558: DIFF
2559: ST_TO_ADDR
// if un in RuReinf then
2560: LD_VAR 0 1
2564: PUSH
2565: LD_EXP 2
2569: IN
2570: IFFALSE 2588
// RuReinf := RuReinf diff un ;
2572: LD_ADDR_EXP 2
2576: PUSH
2577: LD_EXP 2
2581: PUSH
2582: LD_VAR 0 1
2586: DIFF
2587: ST_TO_ADDR
// end ;
2588: PPOPN 1
2590: END
